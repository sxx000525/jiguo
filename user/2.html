<!--
 * @Author: SXX
 * @Date: 2021-04-01 20:16:02
 * @LastEditors: SXX
 * @LastEditTime: 2021-04-01 20:37:22
 * @Description: file content
 * @FilePath: \code\day09\极果\user\2.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/base.css">
    <link rel="stylesheet" href="../css/1.css">
</head>

<body>
    <div class="focus clearfix">
        <div class="box">
            <ul class="active">
                <li>
                    <img src="../img/hot9.jpg" alt="">
                    <p>巴慕达 The Toaster 烤面包机</p>
                </li>
                <li>
                    <img src="../img/hot10.jpg" alt="">
                    <p>巴慕达 The Toaster 烤面包机</p>
                </li>
                <li>
                    <img src="../img/hot10.jpg" alt="">
                    <p>巴慕达 The Toaster 烤面包机</p>
                </li>
                <li>
                    <img src="../img/hot10.jpg" alt="">
                    <p>巴慕达 The Toaster 烤面包机</p>
                </li>
            </ul>
            <ul>
                <li>
                    <img src="../img/hot9.jpg" alt="">
                    <p>巴慕达 The Toaster 烤面包机</p>
                </li>
                <li>
                    <img src="../img/hot10.jpg" alt="">
                    <p>巴慕达 The Toaster 烤面包机</p>
                </li>
                <li>
                    <img src="../img/hot10.jpg" alt="">
                    <p>巴慕达 The Toaster 烤面包机</p>
                </li>
                <li>
                    <img src="../img/hot10.jpg" alt="">
                    <p>巴慕达 The Toaster 烤面包机</p>
                </li>
            </ul>
            <ul>
                <li>
                    <img src="../img/hot9.jpg" alt="">
                    <p>巴慕达 The Toaster 烤面包机</p>
                </li>
                <li>
                    <img src="../img/hot10.jpg" alt="">
                    <p>巴慕达 The Toaster 烤面包机</p>
                </li>
                <li>
                    <img src="../img/hot10.jpg" alt="">
                    <p>巴慕达 The Toaster 烤面包机</p>
                </li>
                <li>
                    <img src="../img/hot10.jpg" alt="">
                    <p>巴慕达 The Toaster 烤面包机</p>
                </li>
            </ul>
        </div>
        <button class="btn1">&lt;</button>
        <button class="btn2">&gt;</button>
    </div>
    <script src="../js/animate.js"></script>
    <script>
        let focus = document.querySelector(".focus");
        let btn1 = document.querySelector(".btn1");
        let btn2 = document.querySelector(".btn2");
        let boxs = document.querySelectorAll(".box>ul");
        let box = document.querySelector(".box");

        // 每一张图片的宽度
        let boxWidth = boxs[0].offsetWidth;

        // 假设当前图片的索引值为
        let focusIndex = 0;

        // 点击操作控制
        let flag = true;

        // 图片轮播
        function play(index) {
            // 图片的距离
            let offsetLeft = -index * boxWidth;
            focusIndex = index == boxs.length - 1 ? 0 : index;
            // 图片显示
            animate(box, offsetLeft, function() {
                if (index == boxs.length - 1) {
                    box.style.left = 0;
                }
                flag = true;
            })
        }
        // 点击左侧按钮显示上一张图片
        btn1.onclick = function() {
            if (flag) {
                flag = false;
                if (focusIndex == 0) {
                    box.style.left = -(boxs.length - 1) * boxWidth + "px";
                    focusIndex = boxs.length - 1
                }
                focusIndex = focusIndex > 0 ? --focusIndex : boxs.length - 1;
                play(focusIndex)
            }
        };
        // 点击右侧按钮显示下一张图片
        btn2.onclick = function() {
            if (flag) {
                flag = false;
                focusIndex = focusIndex < boxs.length - 1 ? ++focusIndex : 0;
                play(focusIndex)
            }
        }
    </script>
</body>

</html>